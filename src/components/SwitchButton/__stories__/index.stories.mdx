import { ArgsTable, Canvas, Description, Meta, Story } from '@storybook/addon-docs/blocks'
import { SwitchButton } from '..'
import { BorderedBox, Col, Grid, Row } from '../..'
import ControlValue from '../../../__stories__/components/ControlValue'

<Meta title="Components/SwitchButton" component={SwitchButton} />

# SwitchButton

## Basic

<Description>
  `SwitchButton` uses a `input` of type "radio" and they can only be used as
  controlled input.
</Description>

<Canvas>
  <Story name="basic">
    <ControlValue value="a">
      {({ value, onChange }) => (
        <Grid>
          <Row>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch-0"
                value="a"
                checked={value === 'a'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is A
              </SwitchButton>
            </Col>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch-1"
                value="b"
                checked={value === 'b'}
                onChange={e => { console.log(e.currentTarget.value); onChange(e.currentTarget.value) }}
              >
                This is B
              </SwitchButton>
            </Col>
          </Row>
        </Grid>
      )}
    </ControlValue>
  </Story>
</Canvas>

## Variants

<Description>
  Use `variant` prop to change style. Available variants: `default`, `segment`.
  Check code example to reproduce exactly `segment` variant.
</Description>

<Canvas isColumn>
  <Story name="variants-default">
    <ControlValue value="a">
      {({ value, onChange }) => (
        <Grid>
          <Row>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch-2"
                value="a"
                variant="default"
                checked={value === 'a'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is A
              </SwitchButton>
            </Col>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch-2"
                value="b"
                variant="default"
                checked={value === 'b'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is B
              </SwitchButton>
            </Col>
          </Row>
        </Grid>
      )}
    </ControlValue>
  </Story>
  <Story name="variants-segment">
    <ControlValue value="a">
      {({ value, onChange }) => (
        <Grid>
          <Row width={320}>
            <Col pr={0}>
              <BorderedBox p="4px">
                <Row>
                  <Col xs={6} pr={0}>
                    <SwitchButton
                      width={1}
                      name="switch-3"
                      value="a"
                      variant="segment"
                      checked={value === 'a'}
                      onChange={e => onChange(e.currentTarget.value)}
                    >
                      This is A
                    </SwitchButton>
                  </Col>
                  <Col xs={6} pl={0}>
                    <SwitchButton
                      width={1}
                      name="switch-3"
                      value="b"
                      variant="segment"
                      checked={value === 'b'}
                      onChange={e => onChange(e.currentTarget.value)}
                    >
                      This is B
                    </SwitchButton>
                  </Col>
                </Row>
              </BorderedBox>
            </Col>
          </Row>
        </Grid>
      )}
    </ControlValue>
  </Story>
</Canvas>

## Disabled

<Description>
  Use `disabled` prop to disable one or both `SwitchButton`.
</Description>

<Canvas>
  <Story name="disabled">
    <ControlValue value="a">
      {({ value, onChange }) => (
        <Grid>
          <Row>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch-4"
                value="a"
                checked={value === 'a'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is A
              </SwitchButton>
            </Col>
            <Col xs={3}>
              <SwitchButton
                width={1}
                name="switch-4"
                value="b"
                disabled
                checked={value === 'b'}
                onChange={e => onChange(e.currentTarget.value)}
              >
                This is B
              </SwitchButton>
            </Col>
          </Row>
        </Grid>
      )}
    </ControlValue>
  </Story>
</Canvas>


<ArgsTable of={SwitchButton} />
