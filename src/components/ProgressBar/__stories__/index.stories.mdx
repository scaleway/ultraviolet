import { Meta, Story, Canvas, Description } from '@storybook/addon-docs/blocks'
import { useState, useEffect } from 'react'
import { ProgressBar, progressBarVariants } from '..'
import { Boxer } from "../.."
import UncontrolledProgressBar from './UncontrolledProgressBar'

<Meta title="Components/ProgressBar" component={ProgressBar} />

# ProgressBar

<Description>An horizontal progress bar.</Description>

## Basic

<Canvas>
  <Story name="basic">
    {() => {
      const [value, setValue] = useState(0)
      useEffect(() => {
        setInterval(() => {
          setValue(value => (value === 0 ? Math.round(Math.random() * 100) : 0))
        }, 800)
      }, [])
      return <ProgressBar value={value} />
    }}
  </Story>
</Canvas>

## Variants

<Description>Set variant using `variant` prop.</Description>

<Canvas>
  <Story name="variants">
    {() => (
      <Boxer my={1}>
        {progressBarVariants.map(variant => (
          <UncontrolledProgressBar key={variant} variant={variant} />
        ))}
      </Boxer>
    )}
  </Story>
</Canvas>

## Progress

<Canvas>
  <Story name="progress">
    <ProgressBar progress />
  </Story>
</Canvas>

## Secondary color

<Description>You can set the `backgroundColor` property to set the background progress color</Description>

<Canvas>
  <Story name="background">
    <ProgressBar value={60} backgroundColor="green" />
  </Story>
</Canvas>
