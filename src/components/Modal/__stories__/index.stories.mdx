import { css } from '@emotion/react'
import {
  ArgsTable,
  Canvas,
  Description,
  Meta,
  Story,
} from '@storybook/addon-docs'
import { Box, Button, Modal, Switch } from '../..'
import { MODAL_ANIMATION, MODAL_PLACEMENT, MODAL_WIDTH } from '../index'

<Meta title="Components/Container/Modal" component={Modal} />

# Modal

<Description>
  Documentation is here https://reakit.io/docs/dialog/#props By default now our
  modal is a portal. If you want to change this you can disabled modal props but
  be aware of https://reakit.io/docs/dialog/#non-modal-dialogs
</Description>

<Canvas>
  <Story name="Basic">
    <Modal disclosure={<Button>Open Modal</Button>}>
      <Box p={4}>Content should be present in center of the modal</Box>
    </Modal>
  </Story>
</Canvas>

<Canvas>
  <Story name="switch">
    <Modal
      disclosure={
        <Box>
          <Switch>Open Modal</Switch>
        </Box>
      }
    >
      <Box p={4}>Content should be present in center of the modal</Box>
    </Modal>
  </Story>
</Canvas>

# With lots of content

<Description>Having a lot of content automatically adds a scroll</Description>

<Canvas>
  <Story name="With much content">
    <Modal
      animated
      animation="scaleUp"
      disclosure={<Button>Open Modal with lot of content</Button>}
    >
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
      <Box p={4}>Content should be present in center of the modal</Box>
    </Modal>
  </Story>
</Canvas>

## Animated

<Description>Here is a list of all the animated values we support:</Description>

<Canvas>
  <Story name="Animated">
    {Object.keys(MODAL_ANIMATION).map(animation => (
      <Box p={2} key={animation} display="inline-block">
        <Modal
          animated
          animation={animation}
          disclosure={<Button>{animation}</Button>}
        >
          <Box p={4}>Modal should be animated</Box>
        </Modal>
      </Box>
    ))}
  </Story>
</Canvas>

## Width

<Description>Here is a list of all the width values we support:</Description>

<Canvas>
  <Story name="Width">
    {Object.keys(MODAL_WIDTH).map(width => (
      <Box p={2} key={width} display="inline-block">
        <Modal width={width} disclosure={<Button>{width}</Button>}>
          <Box p={4}>Content of the {width} modal</Box>
        </Modal>
      </Box>
    ))}
  </Story>
</Canvas>

## Placement

<Description>
  Here is a list of all the placement values we support:
</Description>

<Canvas>
  <Story name="Placement">
    {Object.keys(MODAL_PLACEMENT).map(placement => (
      <Box p={2} key={placement} display="inline-block">
        <Modal placement={placement} disclosure={<Button>{placement}</Button>}>
          <Box p={4}>Content of the {placement} modal</Box>
        </Modal>
      </Box>
    ))}
  </Story>
</Canvas>

## Height

<Description>You can customise the `height` of the modal</Description>

<Canvas>
  <Story name="Height 100%">
    <Modal disclosure={<Button>Height 100%</Button>} height="100%">
      <Box p={4}>Hello there this a modal with a full height</Box>
    </Modal>
  </Story>
</Canvas>

## Prevent Body Scroll

<Description>
  To prevent body scroll outside of the modal, use `preventBodyScroll`
</Description>

<Canvas>
  <Story name="Prevent body scroll">
    <Modal
      disclosure={<Button>preventBodyScroll</Button>}
      preventBodyScroll={false}
    >
      <Box p={4}>
        Try to scroll on body ( outside of the Modal ) preventBodyScroll is
        available only when modal props is enabled
        https://reakit.io/docs/dialog/#props
      </Box>
    </Modal>
  </Story>
</Canvas>

## Hide on click outside

<Description>
  To close or keep modal on click outside, specify `hideOnClickOutside`
</Description>

<Canvas>
  <Story name="Hide on click outside">
    <Modal
      disclosure={<Button>hideOnClickOutside</Button>}
      width="small"
      hideOnClickOutside={false}
    >
      <Box p={4}>Try to click outside of the Modal</Box>
    </Modal>
  </Story>
</Canvas>

## Hide on Esc

<Description>To hide or keep modal on ESC key, specify `hideOnEsc`</Description>

<Canvas>
  <Story name="Hide on Esc">
    <Modal
      disclosure={<Button>hideOnEsc</Button>}
      width="medium"
      hideOnEsc={false}
    >
      <Box p={4}>try to ESCAPE</Box>
    </Modal>
  </Story>
</Canvas>

## Modal

<Description>
  `modal` props can set the modal just below the button in the DOM
</Description>

<Canvas>
  <Story name="Modal">
    <Modal disclosure={<Button>modal</Button>} width="medium" modal={false}>
      <Box p={4}>Our modal is just below our Button in the DOM </Box>
    </Modal>
  </Story>
</Canvas>

## Is closable

<Description>To hide close button at the top, specify `isClosable`</Description>

<Canvas>
  <Story name="Is closable">
    <Modal disclosure={<Button>isClosable</Button>} isClosable={false}>
      {({ hide }) => (
        <>
          <p>You don&apos;t have a close Icon</p>
          <Button onClick={() => hide()}>Close</Button>
        </>
      )}
    </Modal>
  </Story>
</Canvas>

## Not Bordered

<Description>`bordered` can remove modal borders</Description>

<Canvas>
  <Story name="Not Bordered">
    <Modal disclosure={<Button>bordered</Button>} bordered={false}>
      <p>Your Modal is not bordered</p>
    </Modal>
  </Story>
</Canvas>

## Custom Styles

<Canvas>
  <Story name="Custom style">
    {() => {
      const customDialogBackdropStyles = css`
        background-color: aliceblue;
      `
      const customDialogStyles = css`
        background: radial-gradient(
          circle,
          #8b2fe6 0%,
          #4f0599 50%,
          #30015a 100%
        );
      `
      return (
        <Modal
          disclosure={<Button>Custom style</Button>}
          bordered={false}
          customDialogBackdropStyles={customDialogBackdropStyles}
          customDialogStyles={customDialogStyles}
        >
          <p>Your Modal has some custom styling</p>
        </Modal>
      )
    }}
  </Story>
</Canvas>

## With disclosure function

<Canvas>
  <Story name="With disclosure function">
    <Modal disclosure={({ baseId }) => <Button>disclosure {baseId}</Button>}>
      Content
    </Modal>
  </Story>
</Canvas>

## With disclosure being a native element

<Canvas>
  <Story name="With disclosure being native">
    <Modal disclosure={() => <button type="button">disclosure</button>}>
      Content
    </Modal>
  </Story>
</Canvas>

## With function children

<Canvas>
  <Story name="With children function">
    <Modal disclosure={<Button>modal</Button>}>
      {props => <p>Content {props.baseId} </p>}
    </Modal>
  </Story>
</Canvas>

## API

<ArgsTable of={Modal} />
